ServiceMaps:
 serviceName: Property Tax - rainmaker
 version: 1.0.0
 mappings:
  - topic: save-pt-property
    configKey: INDEX
    indexes:
    - name: rainmakerptlegacyindex
      type: property
      id: $.propertyId, $.tenantId
      isBulk: true
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.Properties.*

  - topic: update-pt-property
    configKey: INDEX
    indexes:
    - name: rainmakerptlegacyindex
      type: property
      id: $.propertyId, $.tenantId
      isBulk: true
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.Properties.*
      
  - topic: pt-property-reindex
    configKey: REINDEX
    indexes:
    - name: rainmakerptreindex
      type: property
      id: $.propertyId, $.tenantId
      isBulk: true
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.hits.*
      
  - topic: pt-property-legacyindex
    configKey: LEGACYINDEX
    indexes:
    - name: rainmakerptlegacyindex
      type: property
      id: $.propertyId, $.tenantId
      isBulk: true
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.Properties.*
      
      
#JOURNEY: rainmakerpt -> rainmakerptlegacyindex
#configKey=INDEX: Index that currently receives live data from the services
#configKey=REINDEX: Configuration for reindexing that will be enabled only during reindexing activity.
#configKey=LEGACYINDEX: Configuration for reindexing the database to es that will be enabled only during reindexing activity.
